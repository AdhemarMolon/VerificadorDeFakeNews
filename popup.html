<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Fake Checker</title>
  <style>
    :root{
      --ok:#10b981; --warn:#f59e0b; --err:#ef4444; --muted:#94a3b8;
      --bg:#0b1020; --card:#0f172a; --card-border:#1e293b; --text:#e5e7eb;
    }
    *{box-sizing:border-box}
    body{font-family:system-ui, Arial, sans-serif; margin:0; background:var(--bg); color:var(--text); width:380px}
    header{padding:14px 16px; display:flex; align-items:center; gap:10px; border-bottom:1px solid var(--card-border)}
    header h3{margin:0; font-size:16px}
    main{padding:14px 16px}
    .row{display:flex; gap:8px}
    .btn{flex:1; padding:10px 12px; border:1px solid var(--card-border); border-radius:12px; cursor:pointer; font-weight:600; background:#0b1222; color:var(--text)}
    .btn.active{background:#2563eb; color:white; border-color:#2563eb}
    .go{width:100%; margin-top:10px; padding:12px 14px; border:0; border-radius:12px; cursor:pointer; font-weight:700; background:#2563eb; color:white}
    .go[disabled]{opacity:.6; cursor:not-allowed}
    .hint{margin-top:8px; color:var(--muted); font-size:12px}
    .card{margin-top:12px; background:var(--card); border:1px solid var(--card-border); border-radius:14px; padding:12px; overflow:hidden}
    .pill{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; font-weight:700; font-size:12px}
    .pill.ok{background:rgba(16,185,129,.18); color:var(--ok)}
    .pill.warn{background:rgba(245,158,11,.18); color:var(--warn)}
    .pill.err{background:rgba(239,68,68,.18); color:var(--err)}
    .scorebar{height:10px; background:#0b1222; border-radius:999px; overflow:hidden; margin:8px 0 2px}
    .scorebar>span{display:block; height:100%; width:0; transition:width .25s ease}
    .score-ok{background:var(--ok)} .score-warn{background:var(--warn)} .score-err{background:var(--err)}
    details summary{cursor:pointer; color:#cbd5e1}
    ul{margin:8px 0 0 18px}
    .tiny{font-size:11px; color:var(--muted)}
    .loading{display:inline-block; width:16px; height:16px; border:2px solid #ffffff33; border-top-color:#fff; border-radius:50%; animation:spin 1s linear infinite; vertical-align:-3px}
    @keyframes spin{to{transform:rotate(360deg)}}
    a{color:#93c5fd; text-decoration:none} a:hover{text-decoration:underline}
    #sources, #sources a, #reasons, #reasons li { overflow-wrap:anywhere; word-break:break-word }
      .source-card{
      margin-top:8px;
      padding:10px 12px;
      border:1px solid var(--card-border);
      background: #0b1222;
      border-radius:10px;
    }
    .source-top{
      display:flex; align-items:center; gap:8px;
      color:var(--muted); font-size:12px; margin-bottom:6px;
    }
    .source-ico{
      width:14px; height:14px; border-radius:3px;
    }
    .source-title{
      display:block; font-weight:700; color:#cfe1ff; text-decoration:none; margin-bottom:2px;
    }
    .source-title:hover{ text-decoration:underline; }
    .source-url{
      display:block; font-size:12px; color:#94a3b8; word-break:break-all; text-decoration:none;
    }
    .source-url:hover{ text-decoration:underline; }

  </style>
</head>
<body>
  <header>
    <img src="icon.png" alt="" width="20" height="20"/>
    <h3>Fake Checker</h3>
  </header>
  <main>
    <div class="row">
      <button class="btn active" id="mode-full" data-mode="full" title="Analisa todo o conteúdo da página">Página inteira</button>
      <button class="btn" id="mode-viewport" data-mode="viewport" title="Somente o que está visível agora na tela">Somente tela</button>
    </div>

    <button id="check" class="go">Checar agora</button>
    <div class="hint">A verificação usa IA e inclui pesquisa na web em fontes confiáveis.</div>

    <div id="result" class="card" style="display:none">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:8px">
        <div id="labelPill" class="pill">Resultado</div>
        <div class="tiny" id="scoreText"></div>
      </div>
      <div class="scorebar"><span id="scoreFill"></span></div>

      <p id="message" style="margin:8px 0 10px 0"></p>

      <details open>
        <summary>Motivos, verificações e fontes</summary>
        <ul id="reasons"></ul>
        <div id="sources"></div>
      </details>
    </div>

    <div id="error" class="card" style="display:none; border-color:#ef4444">
      <div class="pill err">Erro</div>
      <div style="margin-top:8px" id="errorMsg">—</div>
    </div>
  </main>

  <script src="popup.js"></script>
</body>
</html>



